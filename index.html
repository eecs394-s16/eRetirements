<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <link href='https://fonts.googleapis.com/css?family=Hind:400,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="styles.css">

        <script src="./questionScript.js" type="text/javascript"></script>
        <script>
        $(document).ready(function() {
            $('.Quiz').hide();
            var $completed = $('completed');

            $('.category').click(function(e) {
                var $clickedItem = $(e.target);
                var idName = jQuery(this).attr("id");
                showQuestion(idName);
                
            });
        });
        var current = 1;
        var category;
        var clickItem;
        var showQuestion = function(idName){
            $('.row').css("opacity","0.5");
            $('.Quiz').show();
            category = idName;
            current = 1;
            changeQuestion(category);

            
        }
        var changeQuestionPrev = function() {
            current -= 1;
            var questionAndAnswers = categories[category];
            var total = questionAndAnswers.length;
            if(current < 1)
            {
                $('.Quiz').hide();
                $('.row').css("opacity","1");
            }
            else
            {
                console.log("here");
                changeQuestion(category);
            }

        }
        var changeQuestionSkip = function(){
            current += 1;
            var questionAndAnswers = categories[category];
            var total = questionAndAnswers.length;
            if(current > total )
            {
                
//                 $("#" +category).find(".completed").css({'visibility': 'visible'});
//                 $("#" +category).css({'background-color': '#DCFDE1', 'border-color': '#DCFDE1'});
//                 $("#" +category).hover(function() {
//                         $("#" +category).css('border-color', '#6C9B74');
//                        }, function () {
//                         $("#" +category).css('border-color', '#DCFDE1');
//                    });
//                
                $('.Quiz').hide();
                $('.row').css("opacity","1");
            }
            else
            changeQuestion(category);
        }
        
        var changeQuestionNext = function(){
            current += 1;
            var questionAndAnswers = categories[category];
            var total = questionAndAnswers.length;
            if(current > total )
            {
                
                 $("#" +category).find(".completed").css({'visibility': 'visible'});
                 $("#" +category).css({'background-color': '#DCFDE1', 'border-color': '#DCFDE1'});
                 $("#" +category).hover(function() {
                         $("#" +category).css('border-color', '#6C9B74');
                        }, function () {
                         $("#" +category).css('border-color', '#DCFDE1');
                    });
                
                $('.Quiz').hide();
                $('.row').css("opacity","1");
            }
            else
            changeQuestion(category);
        }
        var changeQuestion = function(category){

            var questionAndAnswers = categories[category];
            var title;
            if (category == "location"){
              title = "Location & Weather"
            } else if (category == "community"){
              title = "Community & Demographics"
            } else if (category == "activities") {
              title = "Activities & Work Potential"
            } else if (category == "health") {
              title = "Health Care"
            } else if (category == "costs") {
              title = "Cost of Living"
            }
            document.getElementById("category_title").innerHTML = title;
            var total = questionAndAnswers.length;
            var currentQuestionAndAnswers = questionAndAnswers[current-1];
            $('#question_number').text( "Q" + current +" out of Q" + total);
            $('#question_content').text(currentQuestionAndAnswers["question"]);

            var answers = currentQuestionAndAnswers["answers"];
            var len = answers.length;
            var str = "";
            console.log();
            for(var i = 0; i < len; i++)
            {
                str += "<li><button class='list-group-item answer' style='border-radius:10px; text-align:center'>  " + answers[i] +
                "</button></li>";
            }
            $('#question_option').html(str);
        }
        </script>

    </head>
    <body>
        <center>
            <div id="question" class="Quiz">
                <div id="category_title">
                    Location Quiz
                </div>
                <div id="question_area">
                    <p id="question_number">
                    </p>
                    
                    <br>
                    <p id="question_content">
                    </p>
                    <ul class="list-group" id="question_option">
                    </ul>

                </div>
                <div id="progress"></div>
                <div id="button_area">
                    <button id="prev" onclick="changeQuestionPrev()" style="border-radius:5px">prev</button>
                    <button id="skip" onclick="changeQuestionSkip()" style="border-radius:5px">skip</button>
                    <button id="next" onclick="changeQuestionNext()" style="border-radius:5px">next</button>
                </div>

            </div>

        <img src="navbar.png" alt="navbar">
        <div class="row">
            <div id="location" class="category" >
                <br>
                <h2>Location &amp; Weather</h2>
                <h1><i class="fa fa-sun-o" aria-hidden="true"></i></h1>
                <div class="completed">
                    <p><i class="fa fa-check fa-4x" aria-hidden="true"></i></p>
                </div>
            </div>

            <div id="community" class="category">
                <br>
                <h2>Community &amp; Demographics</h2>
                <h1><i class="fa fa-users" aria-hidden="true"></i></h1>
                <div class="completed">
                    <p><i class="fa fa-check fa-4x" aria-hidden="true"></i></p>
                </div>
            </div>
            <div id="activities" class="category">
                <br>
                <h2>Activities &amp; Work Potential</h2>
                <h1><i class="fa fa-bicycle" aria-hidden="true"></i></h1>
                <div class="completed">
                    <p><i class="fa fa-check fa-4x" aria-hidden="true"></i></p>
                </div>
            </div>
         </div>
        <div class="row">
            <div id="health" class="category">
                <br><h2>Health Care</h2>
                <h1><i class="fa fa-medkit" aria-hidden="true"></i></h1>
                <div class="completed">
                    <p><i class="fa fa-check fa-4x" aria-hidden="true"></i></p>
                </div>
            </div>
            <div id="costs" class="category">
                <br>
                <h2>Cost of Living</h2>
                <h1><i class="fa fa-usd" aria-hidden="true"></i></h1>
                <div class="completed">
                    <p><i class="fa fa-check fa-4x" aria-hidden="true"></i></p>
                </div>
            </div>
        </div>
        </center>


    </body>





</html>
